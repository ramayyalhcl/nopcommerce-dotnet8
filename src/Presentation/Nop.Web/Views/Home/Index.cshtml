@model IList<Nop.Core.Domain.Catalog.Product>
@{
    Layout = "~/Views/Shared/_ColumnsOne.cshtml";
    Html.AppendPageCssClassParts("html-home-page");
}

@* 
    .NET 8.0 MIGRATION NOTE:
    Structure matches legacy Homepage exactly - using correct CSS classes from styles.css
    - .page.home-page wrapper
    - .topic-block for welcome section (legacy used @Html.Action("TopicBlock"))
    - .category-grid.home-page-category-grid for categories
    - .product-grid.home-page-product-grid for products
    - .item-grid with .item-box for grid layout
    All styling now comes from styles.css, not inline styles
*@
<div class="page home-page">
    <div class="page-body">
        @Html.Widget("home_page_top")
        
        @* Welcome section - uses .topic-block class like legacy *@
        <div class="topic-block">
            <div class="title">
                <h2>Welcome to our store</h2>
            </div>
            <div class="body">
                <p>
                    Online shopping is the process consumers go through to purchase products or services over the Internet. You can edit this in the admin site.
                </p>
                <p>
                    If you have questions, see the <a href="#">Documentation</a>, 
                    or post in the <a href="#">Forums</a> at 
                    <a href="http://nopCommerce.com">nopCommerce.com</a>
                </p>
            </div>
        </div>
        
        @Html.Widget("home_page_before_categories")
        
        @* Category showcase - uses .category-grid.home-page-category-grid like legacy *@
        <div class="category-grid home-page-category-grid">
            <div class="item-grid">
                <div class="item-box">
                    <div class="category-item">
                        <h2 class="title">
                            <a href="/electronics">Electronics</a>
                        </h2>
                        <div class="picture">
                            <a href="/electronics">
                                <img src="/content/images/thumbs/category-electronics-300.png" alt="Electronics" title="Electronics" />
                            </a>
                        </div>
                    </div>
                </div>
                <div class="item-box">
                    <div class="category-item">
                        <h2 class="title">
                            <a href="/apparel">Apparel</a>
                        </h2>
                        <div class="picture">
                            <a href="/apparel">
                                <img src="/content/images/thumbs/category-apparel-300.png" alt="Apparel" title="Apparel" />
                            </a>
                        </div>
                    </div>
                </div>
                <div class="item-box">
                    <div class="category-item">
                        <h2 class="title">
                            <a href="/digital-downloads">Digital downloads</a>
                        </h2>
                        <div class="picture">
                            <a href="/digital-downloads">
                                <img src="/content/images/thumbs/category-digital-300.png" alt="Digital downloads" title="Digital downloads" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        @Html.Widget("home_page_before_products")
        
        @* Featured products - uses .product-grid.home-page-product-grid like legacy *@
        @if (Model != null && Model.Any())
        {
            var pictureUrls = ViewBag.PictureUrls as Dictionary<int, string>;
            
            <div class="product-grid home-page-product-grid">
                <div class="title">
                    <strong>Featured products</strong>
                </div>
                <div class="item-grid">
                    @foreach (var product in Model)
                    {
                        var pictureUrl = pictureUrls?[product.Id] ?? "/images/thumbs/default-image_300.png";
                        
                        <div class="item-box">
                            <div class="product-item" data-productid="@product.Id">
                                <div class="picture">
                                    <a href="/product/@product.Id" title="@product.Name">
                                        <img alt="@product.Name" 
                                             src="@pictureUrl" 
                                             title="@product.Name" />
                                    </a>
                                </div>
                                <div class="details">
                                    <h2 class="product-title">
                                        <a href="/product/@product.Id">@product.Name</a>
                                    </h2>
                                    <div class="product-rating-box" title="5 review(s)">
                                        <div class="rating">
                                            <div style="width: 80%"></div>
                                        </div>
                                    </div>
                                    <div class="add-info">
                                        <div class="prices">
                                            <span class="price actual-price">$@product.Price.ToString("N2")</span>
                                        </div>
                                        <div class="buttons">
                                            <input type="button" 
                                                   value="Add to cart" 
                                                   class="button-2 product-box-add-to-cart-button" />
                                            <input type="button" 
                                                   value="" 
                                                   title="Add to compare list" 
                                                   class="button-2 add-to-compare-list-button" />
                                            <input type="button" 
                                                   value="" 
                                                   title="Add to wishlist" 
                                                   class="button-2 add-to-wishlist-button" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        }
        else
        {
            <p style="text-align: center; color: #999;">No products marked for homepage display.</p>
        }
        
        @Html.Widget("home_page_bottom")
    </div>
</div>
